<div class="rounded-xl border border-white/10 bg-slate-950/40 p-3 mb-1">
  <div class="flex items-start justify-between gap-2">
    <div>
      <div class="text-sm font-semibold">{{ taskTitle(t) }}</div>
      <div class="text-xs text-slate-400">{{ taskStatus(t) }}</div>
    </div>
  </div>
  <div class="mt-3 flex flex-wrap items-center justify-between gap-2">
    <div class="flex flex-wrap gap-2">
      <button
        *ngFor="let st of statuses"
        class="rounded-lg border border-white/10 bg-white/5 px-2 py-1 text-xs hover:bg-white/10 transition"
        (click)="statusChange.emit({ t, status: st })"
      >
        {{ st }}
      </button>
    </div>
    <select
      class="rounded-lg border border-white/10 bg-slate-950/60 text-slate-100 px-2 py-1 text-xs outline-none focus:border-indigo-400"
      [value]="t.assigneeUserId ?? ''"
      (change)="assigneeChange.emit({ t, assigneeUserId: $any($event.target).value || null })"
    >
      <option class="bg-slate-950 text-slate-100" value="">Unassigned</option>
      <option *ngFor="let u of users" class="bg-slate-950 text-slate-100" [value]="u.id">
        {{ u.name }}
      </option>
    </select>
  </div>
</div>
