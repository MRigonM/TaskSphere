<div class="rounded-xl border border-white/10 bg-slate-950/40 p-3 mb-1">
  <div class="flex items-start justify-between gap-2">
    <div>
      <div class="text-sm font-semibold">{{ task.title }}</div>
      <div class="text-xs text-slate-400">#{{ task.id }} • {{ task.status }}</div>

      <div class="text-xs text-slate-400 mt-1">
        Assignee: {{ assigneeName(task.assigneeUserId ?? null) }}
      </div>
    </div>

    <div class="flex items-center gap-2">
      <button class="text-xs text-slate-300 hover:text-white" (click)="edit.emit(task)">Edit</button>
      <button class="text-xs text-red-300 hover:text-red-200" (click)="remove.emit(task)">Delete</button>
    </div>
  </div>

  <div class="mt-3 flex flex-wrap items-center justify-between gap-2">
    <div class="flex flex-wrap gap-2">
      <button
        *ngFor="let st of statuses"
        class="rounded-lg border border-white/10 bg-white/5 px-2 py-1 text-xs hover:bg-white/10 transition"
        (click)="setStatus.emit({ task, status: st })"
      >
        {{ st }}
      </button>
    </div>

    <button
      *ngIf="moveLabel"
      class="rounded-lg border border-white/10 bg-white/5 px-3 py-1.5 text-xs hover:bg-white/10 transition"
      [disabled]="moveDisabled"
      (click)="move.emit(task)"
    >
      {{ moveLabel }}
    </button>
  </div>
</div>
